

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>viscid.calculator package &mdash; Viscid 0.70.2 documentation</title>
  

  
  

  
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'0.70.2',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="Viscid 0.70.2 documentation" href="index.html"/>
        <link rel="up" title="viscid package" href="viscid.html"/>
        <link rel="next" title="viscid.compat package" href="viscid.compat.html"/>
        <link rel="prev" title="viscid package" href="viscid.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> Viscid</a>
        <form class="wy-form" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#standard-setup">Standard Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#for-developers">For Developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">Philosophy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="philosophy.html#data-abstraction">Data Abstraction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_behavior.html">Custom Behavior (rc file)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_behavior.html#common-customizations">Common Customizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_behavior.html#viscid-grid-grid">viscid.grid.Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_behavior.html#viscid-readers-openggcm-ggcmgrid">viscid.readers.openggcm.GGCMGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_behavior.html#viscid-readers-openggcm-ggcmfile">viscid.readers.openggcm.GGCMFile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ex_reader.html">Reading/Plotting Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ex_reader.html#super-simple">Super Simple</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_reader.html#two-plots-one-figure">Two Plots, One Figure</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_reader.html#playing-with-time">Playing with Time</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ex_slicing.html">Slicing Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ex_slicing.html#spatial-slices">Spatial Slices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_slicing.html#temporal-slices">Temporal Slices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ex_openggcm.html">OpenGGCM Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ex_openggcm.html#gse-coordinates">GSE coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_openggcm.html#time-series">Time Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="ex_openggcm.html#ionosphere-files">Ionosphere Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ex_calc.html">Calculator Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ex_calc.html#streamlines">Streamlines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command_line.html">Command Line Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="command_line.html#viscid-2d">viscid_2d</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line.html#viscid-ts">viscid_ts</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line.html#viscid-diff">viscid_diff</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line.html#athena2xdmf">athena2xdmf</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line.html#bitmaskbits">bitmaskbits</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="viscid.html">viscid package</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Viscid</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html">Docs</a> &raquo;</li>
  <li><a href="">viscid.calculator package</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="viscid-calculator-package">
<h1>viscid.calculator package<a class="headerlink" href="#viscid-calculator-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-viscid.calculator.calc">
<span id="viscid-calculator-calc-module"></span><h2>viscid.calculator.calc module<a class="headerlink" href="#module-viscid.calculator.calc" title="Permalink to this headline">¶</a></h2>
<p>This has a mechanism to dispatch to different backends. You can change the
order of preference of the backend by changing default_backends.
TODO: this dispatch mechanism is very simple, maybe something a little more
flexable would be useful down the line?</p>
<dl class="class">
<dt id="viscid.calculator.calc.BinaryOperation">
<em class="property">class </em><tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">BinaryOperation</tt><big>(</big><em>name</em>, <em>short_name</em>, <em>implementations=[]</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#BinaryOperation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.BinaryOperation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.calc.Operation" title="viscid.calculator.calc.Operation"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.calc.Operation</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="viscid.calculator.calc.Operation">
<em class="property">class </em><tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">Operation</tt><big>(</big><em>name</em>, <em>short_name</em>, <em>implementations=[]</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#Operation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.Operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="viscid.calculator.calc.Operation.add_implementation">
<tt class="descname">add_implementation</tt><big>(</big><em>name</em>, <em>func</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#Operation.add_implementation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.Operation.add_implementation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.calc.Operation.add_implementations">
<tt class="descname">add_implementations</tt><big>(</big><em>implementations</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#Operation.add_implementations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.Operation.add_implementations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.calc.Operation.default_backends">
<tt class="descname">default_backends</tt><em class="property"> = ['numexpr', 'cython', 'numpy']</em><a class="headerlink" href="#viscid.calculator.calc.Operation.default_backends" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.calc.Operation.opname">
<tt class="descname">opname</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.calc.Operation.opname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.calc.Operation.short_name">
<tt class="descname">short_name</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.calc.Operation.short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.calc.UnaryOperation">
<em class="property">class </em><tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">UnaryOperation</tt><big>(</big><em>name</em>, <em>short_name</em>, <em>implementations=[]</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#UnaryOperation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.UnaryOperation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.calc.Operation" title="viscid.calculator.calc.Operation"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.calc.Operation</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.closest1d_ind">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">closest1d_ind</tt><big>(</big><em>arr</em>, <em>val</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#closest1d_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.closest1d_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.closest1d_val">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">closest1d_val</tt><big>(</big><em>arr</em>, <em>val</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#closest1d_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.closest1d_val" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.curl_at_point">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">curl_at_point</tt><big>(</big><em>A</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>dz=None</em>, <em>dy=None</em>, <em>dx=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#curl_at_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.curl_at_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns curl at point as ndarray with shape (3,) xyz</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.div_at_point">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">div_at_point</tt><big>(</big><em>A</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>dz=None</em>, <em>dy=None</em>, <em>dx=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#div_at_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.div_at_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns divergence at a point</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.jacobian_at_ind">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">jacobian_at_ind</tt><big>(</big><em>B</em>, <em>iz</em>, <em>iy</em>, <em>ix</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#jacobian_at_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.jacobian_at_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Jacobian at index</p>
<dl class="docutils">
<dt>Returns: The jacobian as a 3x3 ndarray</dt>
<dd><p class="first">The result is in xyz order, in other words:
[ [d_x Bx, d_y Bx, d_z Bx],</p>
<blockquote class="last">
<div>[d_x By, d_y By, d_z By],
[d_x Bz, d_y Bz, d_z Bz] ]</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.jacobian_at_point">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">jacobian_at_point</tt><big>(</big><em>B</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>dz=None</em>, <em>dy=None</em>, <em>dx=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#jacobian_at_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.jacobian_at_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Jacobian at a point</p>
<p>If dz|dy|ix == None, then their set to the grid spacing
at the point of interest</p>
<dl class="docutils">
<dt>Returns: The jacobian as a 3x3 ndarray</dt>
<dd><p class="first">The result is in xyz order, in other words:
[ [d_x Bx, d_y Bx, d_z Bx],</p>
<blockquote class="last">
<div>[d_x By, d_y By, d_z By],
[d_x Bz, d_y Bz, d_z Bz] ]</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.jacobian_eig_at_ind">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">jacobian_eig_at_ind</tt><big>(</big><em>B</em>, <em>iz</em>, <em>iy</em>, <em>ix</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#jacobian_eig_at_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.jacobian_eig_at_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the eigen vals/vecs of the jacobian</p>
<dl class="docutils">
<dt>Returns: evals, evecs (3x3 ndarray)</dt>
<dd>The evec[:, i] corresponds to evals[i].
Eigen vectors are returned in zyx order, aka
evec[:, 0] is [z, y, x] for the 0th eigen vector</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.jacobian_eig_at_point">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">jacobian_eig_at_point</tt><big>(</big><em>B</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>dz=None</em>, <em>dy=None</em>, <em>dx=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#jacobian_eig_at_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.jacobian_eig_at_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the eigen vals/vecs of the jacobian</p>
<dl class="docutils">
<dt>Returns: evals, evecs (3x3 ndarray)</dt>
<dd>The evec[:, i] corresponds to evals[i].
Eigen vectors are returned in zyx order, aka
evec[:, 0] is [z, y, x] for the 0th eigen vector</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.local_vector_points">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">local_vector_points</tt><big>(</big><em>B</em>, <em>z</em>, <em>y</em>, <em>x</em>, <em>dz=None</em>, <em>dy=None</em>, <em>dx=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#local_vector_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.local_vector_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Get B at 6 points surrounding X = [z, y, x] with
spacing [+/-dz, +/-dy, +/-dx]</p>
<p>If dz|dy|ix == None, then their set to the grid spacing
at the point of interest</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd><dl class="first docutils">
<dt>bs: ndarray with shape (6, 3) where 0-3 -&gt; Bx,By,Bz</dt>
<dd>and 0-6 -&gt; X-dz, X+dz, X-dy, X+dy, X-dx, X+dx</dd>
<dt>pts: ndarray with shape 6, 3 of the location of the</dt>
<dd>points of the bs, but this time, 0-3 -&gt; z,y,x</dd>
</dl>
<p class="last">dcrd: list of dz, dy, dx</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.magnitude_native">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">magnitude_native</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#magnitude_native"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.magnitude_native" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.magnitude_np">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">magnitude_np</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#magnitude_np"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.magnitude_np" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viscid.calculator.calc.nearest_val">
<tt class="descclassname">viscid.calculator.calc.</tt><tt class="descname">nearest_val</tt><big>(</big><em>fld</em>, <em>point</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/calc.html#nearest_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.calc.nearest_val" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED
find value of field closest to point</p>
</dd></dl>

</div>
<div class="section" id="module-viscid.calculator.cycalc">
<span id="viscid-calculator-cycalc-module"></span><h2>viscid.calculator.cycalc module<a class="headerlink" href="#module-viscid.calculator.cycalc" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="viscid.calculator.cycalc.closest_ind">
<tt class="descclassname">viscid.calculator.cycalc.</tt><tt class="descname">closest_ind</tt><a class="headerlink" href="#viscid.calculator.cycalc.closest_ind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viscid.calculator.cycalc.interp_nearest">
<tt class="descclassname">viscid.calculator.cycalc.</tt><tt class="descname">interp_nearest</tt><big>(</big><big>)</big><a class="headerlink" href="#viscid.calculator.cycalc.interp_nearest" title="Permalink to this definition">¶</a></dt>
<dd><p>Points can be list of 3-tuples or a SeedGen instance. If fld
is a scalar field, the output array has shape (nr_points,) where nr_points
is the number of seed points. If it&#8217;s a vector, the output has shape
(nr_points, nr_comps), where nr_comps is the number of components of the
vector. The data type of the output is the same as the original field.
The output is always an array, even if only one point is given.</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.cycalc.interp_trilin">
<tt class="descclassname">viscid.calculator.cycalc.</tt><tt class="descname">interp_trilin</tt><big>(</big><big>)</big><a class="headerlink" href="#viscid.calculator.cycalc.interp_trilin" title="Permalink to this definition">¶</a></dt>
<dd><p>Points can be list of 3-tuples or a SeedGen instance. If fld
is a scalar field, the output array has shape (nr_points,) where nr_points
is the number of seed points. If it&#8217;s a vector, the output has shape
(nr_points, nr_comps), where nr_comps is the number of components of the
vector. The data type of the output is the same as the original field.
The output is always an array, even if only one point is given.</p>
</dd></dl>

</div>
<div class="section" id="module-viscid.calculator.integrate">
<span id="viscid-calculator-integrate-module"></span><h2>viscid.calculator.integrate module<a class="headerlink" href="#module-viscid.calculator.integrate" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-viscid.calculator.necalc">
<span id="viscid-calculator-necalc-module"></span><h2>viscid.calculator.necalc module<a class="headerlink" href="#module-viscid.calculator.necalc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="viscid.calculator.necalc.VneCalc">
<em class="property">class </em><tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">VneCalc</tt><big>(</big><em>expr</em>, <em>local_dict</em>, <em>ret_type=None</em>, <em>ret_context=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#VneCalc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.VneCalc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="attribute">
<dt id="viscid.calculator.necalc.VneCalc.expr">
<tt class="descname">expr</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.necalc.VneCalc.expr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.necalc.VneCalc.local_dict">
<tt class="descname">local_dict</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.necalc.VneCalc.local_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.necalc.VneCalc.ret_context">
<tt class="descname">ret_context</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.necalc.VneCalc.ret_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.necalc.VneCalc.ret_type">
<tt class="descname">ret_type</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.necalc.VneCalc.ret_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.necalc.VneCalc.slice_dict">
<tt class="descname">slice_dict</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.necalc.VneCalc.slice_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.abs_max">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">abs_max</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#abs_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.abs_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.abs_min">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">abs_min</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#abs_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.abs_min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.cross">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">cross</tt><big>(</big><em>fld_a</em>, <em>fld_b</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#cross"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.cross" title="Permalink to this definition">¶</a></dt>
<dd><p>cross product of two vector fields</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.curl">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">curl</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#curl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.curl" title="Permalink to this definition">¶</a></dt>
<dd><p>first order</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.div">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">div</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.div" title="Permalink to this definition">¶</a></dt>
<dd><p>first order</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.dot">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">dot</tt><big>(</big><em>fld_a</em>, <em>fld_b</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>3d dot product of two vector fields</p>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.necalc.magnitude">
<tt class="descclassname">viscid.calculator.necalc.</tt><tt class="descname">magnitude</tt><big>(</big><em>fld</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/necalc.html#magnitude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.necalc.magnitude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-viscid.calculator.plasma">
<span id="viscid-calculator-plasma-module"></span><h2>viscid.calculator.plasma module<a class="headerlink" href="#module-viscid.calculator.plasma" title="Permalink to this headline">¶</a></h2>
<p>some equations that are useful for plasmas</p>
<dl class="function">
<dt id="viscid.calculator.plasma.calc_beta">
<tt class="descclassname">viscid.calculator.plasma.</tt><tt class="descname">calc_beta</tt><big>(</big><em>pp</em>, <em>B</em>, <em>scale=1.0</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/plasma.html#calc_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.plasma.calc_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc plasma beta (2*p/B^2)</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd>pp (ScalarField or ndarray): pressure
B (VectorField): magnetic field
scale (float, optional): overall scale factor</dd>
<dt>Returns:</dt>
<dd>ScalarField: Plasma beta</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="viscid.calculator.plasma.calc_psi">
<tt class="descclassname">viscid.calculator.plasma.</tt><tt class="descname">calc_psi</tt><big>(</big><em>B</em>, <em>reversed=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/plasma.html#calc_psi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.plasma.calc_psi" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc Flux function (only valid in 2d)</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><dl class="first last docutils">
<dt>B (VectorField): magnetic field, should only have two</dt>
<dd>spatial dimensions so we can infer the symmetry dimension</dd>
<dt>reversed (bool): since this integration doesn&#8217;t like going</dt>
<dd>through undefined regions (like within 1 earth radius of
the origin for openggcm), you can use this to start
integrating from the opposite corner.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>ScalarField: 2-D scalar flux function</dd>
<dt>Raises:</dt>
<dd>ValueError: If B has &lt;&gt; 2 spatial dimensions</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-viscid.calculator.seed">
<span id="viscid-calculator-seed-module"></span><h2>viscid.calculator.seed module<a class="headerlink" href="#module-viscid.calculator.seed" title="Permalink to this headline">¶</a></h2>
<p>Helpers to generate seed points for streamlines</p>
<dl class="class">
<dt id="viscid.calculator.seed.Circle">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Circle</tt><big>(</big><em>p0</em>, <em>p1</em>, <em>res=20</em>, <em>r=None</em>, <em>angle=90.0</em>, <em>cache=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Circle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SphericalCap" title="viscid.calculator.seed.SphericalCap"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SphericalCap</span></tt></a></p>
<p>A circle of seeds</p>
<p>Defined by a center and a point normal to the plane of the circle</p>
</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.Line">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Line</tt><big>(</big><em>p0</em>, <em>p1</em>, <em>res=20</em>, <em>cache=False</em>, <em>dtype=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Line" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SeedGen" title="viscid.calculator.seed.SeedGen"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SeedGen</span></tt></a></p>
<p>A line of seed points</p>
<p>Defined by to endpoints</p>
<dl class="method">
<dt id="viscid.calculator.seed.Line.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Line.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Line.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Line.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Line.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Line.genr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Line.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Line.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Line.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.Plane">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Plane</tt><big>(</big><em>p0</em>, <em>Ndir</em>, <em>Ldir</em>, <em>len_l</em>, <em>len_m</em>, <em>res_l=20</em>, <em>res_m=20</em>, <em>cache=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SeedGen" title="viscid.calculator.seed.SeedGen"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SeedGen</span></tt></a></p>
<p>A plane of seed points</p>
<p>Defined by a point, a normal direction, a direction in the plane,
and the length and width of the plane</p>
<dl class="method">
<dt id="viscid.calculator.seed.Plane.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Plane.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Plane.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Plane.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Plane.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Plane.genr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Plane.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Plane.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Plane.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.Point">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Point</tt><big>(</big><em>points</em>, <em>cache=False</em>, <em>dtype=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Point" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SeedGen" title="viscid.calculator.seed.SeedGen"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SeedGen</span></tt></a></p>
<p>Collection of points</p>
<p>This is useful for wrapping up an ndarray of points to go
into <tt class="xref py py-meth docutils literal"><span class="pre">vicid.calculator.streamline.streamlines()</span></tt>.</p>
<dl class="method">
<dt id="viscid.calculator.seed.Point.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Point.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Point.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Point.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Point.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Point.genr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Point.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Point.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Point.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.SeedGen">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">SeedGen</tt><big>(</big><em>cache=False</em>, <em>dtype=None</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>All about seeds</p>
<p>These objects are good for defining the root points of streamlines
for <tt class="xref py py-meth docutils literal"><span class="pre">vicid.calculator.streamline.streamlines()</span></tt>, or
interpolation points a la
<tt class="xref py py-meth docutils literal"><span class="pre">vicid.calculator.cycalc.interp_trilin()</span></tt>.</p>
<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>basically, wrap_crds on something meaningful</p>
</dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.seed.SeedGen.dtype">
<tt class="descname">dtype</tt><em class="property"> = None</em><a class="headerlink" href="#viscid.calculator.seed.SeedGen.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.genr_points" title="Permalink to this definition">¶</a></dt>
<dd><p>this should return an iterable of (z, y, x) points</p>
</dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.iter_points">
<tt class="descname">iter_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.iter_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.iter_points" title="Permalink to this definition">¶</a></dt>
<dd><p>always returns an iterator, this can be overridden in a
subclass if it&#8217;s more efficient to iterate than a call to
<a class="reference internal" href="#viscid.calculator.seed.SeedGen.genr_points" title="viscid.calculator.seed.SeedGen.genr_points"><tt class="xref py py-meth docutils literal"><span class="pre">genr_points()</span></tt></a>, calling iter_points should make an effort
to be the fastest way to iterate through the points, ignorant
of caching. In cython, it seems to take twice the time to
iterate over a generator, than to use a for loop over indices
of an array, but only if the array already exists</p>
</dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="viscid.calculator.seed.SeedGen.params">
<tt class="descname">params</tt><em class="property"> = {}</em><a class="headerlink" href="#viscid.calculator.seed.SeedGen.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.points">
<tt class="descname">points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.points" title="Permalink to this definition">¶</a></dt>
<dd><p>Get points an ndarray</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>3 x n ndarray of n seed point</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SeedGen.wrap_field">
<tt class="descname">wrap_field</tt><big>(</big><em>fld_typ</em>, <em>name</em>, <em>data</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SeedGen.wrap_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SeedGen.wrap_field" title="Permalink to this definition">¶</a></dt>
<dd><p>fld_type is &#8216;Scalar&#8217; or &#8216;Vector&#8217; or something like that</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.Sphere">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Sphere</tt><big>(</big><em>p0</em>, <em>r</em>, <em>restheta=20</em>, <em>resphi=20</em>, <em>cache=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Sphere"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SeedGen" title="viscid.calculator.seed.SeedGen"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SeedGen</span></tt></a></p>
<p>A sphere of points</p>
<p>Defined by a center, and a radius</p>
<dl class="method">
<dt id="viscid.calculator.seed.Sphere.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Sphere.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Sphere.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Sphere.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Sphere.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Sphere.genr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Sphere.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Sphere.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Sphere.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Sphere.spherical_to_zyx">
<tt class="descname">spherical_to_zyx</tt><big>(</big><em>theta</em>, <em>phi</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Sphere.spherical_to_zyx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Sphere.spherical_to_zyx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.SphericalCap">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">SphericalCap</tt><big>(</big><em>p0</em>, <em>p1</em>, <em>angle</em>, <em>restheta=20</em>, <em>resphi=20</em>, <em>r=None</em>, <em>cache=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SphericalCap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SphericalCap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.Sphere" title="viscid.calculator.seed.Sphere"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.Sphere</span></tt></a></p>
<p>A spherical cone or cap of seeds</p>
<p>Defined by a center, and a point indicating the direction of the
cone, and the half angle of the cone.</p>
<dl class="attribute">
<dt id="viscid.calculator.seed.SphericalCap.euler_rot">
<tt class="descname">euler_rot</tt><a class="reference internal" href="_modules/viscid/calculator/seed.html#SphericalCap.euler_rot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SphericalCap.euler_rot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.SphericalCap.spherical_to_zyx">
<tt class="descname">spherical_to_zyx</tt><big>(</big><em>theta</em>, <em>phi</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#SphericalCap.spherical_to_zyx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.SphericalCap.spherical_to_zyx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viscid.calculator.seed.Volume">
<em class="property">class </em><tt class="descclassname">viscid.calculator.seed.</tt><tt class="descname">Volume</tt><big>(</big><em>p0</em>, <em>p1</em>, <em>res=(20</em>, <em>20</em>, <em>20)</em>, <em>cache=False</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#viscid.calculator.seed.SeedGen" title="viscid.calculator.seed.SeedGen"><tt class="xref py py-class docutils literal"><span class="pre">viscid.calculator.seed.SeedGen</span></tt></a></p>
<p>A volume of seed points</p>
<p>Defined by two opposite corners of a box in 3d</p>
<dl class="method">
<dt id="viscid.calculator.seed.Volume.as_coordinates">
<tt class="descname">as_coordinates</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Volume.as_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Volume.as_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Volume.genr_points">
<tt class="descname">genr_points</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Volume.genr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Volume.genr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Volume.iter_points">
<tt class="descname">iter_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Volume.iter_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Volume.iter_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viscid.calculator.seed.Volume.nr_points">
<tt class="descname">nr_points</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/seed.html#Volume.nr_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.seed.Volume.nr_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-viscid.calculator.streamline">
<span id="viscid-calculator-streamline-module"></span><h2>viscid.calculator.streamline module<a class="headerlink" href="#module-viscid.calculator.streamline" title="Permalink to this headline">¶</a></h2>
<p>All streamlines all the time</p>
<p>Calculate streamlines of a vector field on as many processors your
heart desires. The only function you need here is <a class="reference internal" href="#viscid.calculator.streamline.streamlines" title="viscid.calculator.streamline.streamlines"><tt class="xref py py-meth docutils literal"><span class="pre">streamlines()</span></tt></a></p>
<dl class="docutils">
<dt>Note:</dt>
<dd>When nr_procs &gt; 1, fields are shared to child processes using
a global variable so that on *nix there is no need to picklel and
copy the entire field. This will only work on *nix, and I have
absolutely no idea what will happen on Windows.</dd>
</dl>
<dl class="function">
<dt id="viscid.calculator.streamline.streamlines">
<tt class="descclassname">viscid.calculator.streamline.</tt><tt class="descname">streamlines</tt><big>(</big><big>)</big><a class="headerlink" href="#viscid.calculator.streamline.streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace streamlines</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><p class="first">fld: Some vector field
seed: can be a Seeds instance or a Coordinates instance, or</p>
<blockquote>
<div>anything that exposes an iter_points method</div></blockquote>
<dl class="docutils">
<dt>nr_procs: how many processes to calc streamlines on (&gt;1 only</dt>
<dd>works on *nix systems)</dd>
<dt>force_parallel: always calc streamlines in a separate process,</dt>
<dd>even if nr_procs == 1</dd>
<dt>nr_chunks_factor: If streamlines are really unbalanced in</dt>
<dd>length, try bumping this up</dd>
</dl>
<p class="last">kwargs: more arguments for streamlines, described below</p>
</dd>
<dt>Keyword Arguments:</dt>
<dd><dl class="first docutils">
<dt>ds0 (float): initial spatial step for streamlines (if 0.0, it</dt>
<dd>will be half the minimum d[xyz])</dd>
</dl>
<p>ibound (float): Inner boundary as distance from (0, 0, 0)
obound0 (array-like): lower corner of outer boundary (z, y, x)
obound1 (array-like): upper corner of outer boundary (z, y, x)
maxit (int): maximum number of line segments
max_length (float): maximum streamline length
stream_dir (int): one of DIR_FORWARD, DIR_BACKWARD, DIR_BOTH
output (int): which output to provide, one of</p>
<blockquote>
<div>OUTPUT_STREAMLINE, OUTPUT_TOPOLOGY, or OUTPUT_BOTH</div></blockquote>
<dl class="docutils">
<dt>method (int): integrator, one of EULER1, EULER1a (adaptive),</dt>
<dd>RK2, RK12 (adaptive)</dd>
<dt>tol_lo (float): lower acuracy tolerance for adaptive</dt>
<dd>integrators. More acurate than, this ds goes up.</dd>
<dt>tol_hi (float): upper acuracy tolerance for adaptive</dt>
<dd>integrators. Less acurate than, this ds goes down.</dd>
</dl>
<p>fac_refine (float): When refining ds, ds *= fac_refine
fac_coarsen (float): When coarsening ds, ds *= fac_coarsen
smallest_step (float): smallest spatial step
largest_step (float): largest spatial step
topo_style (str): how to map end point bitmask to a topology.</p>
<blockquote class="last">
<div>&#8216;msphere&#8217; to map to <tt class="docutils literal"><span class="pre">TOPOLOGY_MS_*</span></tt>, or &#8216;generic&#8217; to
leave topology as a bitmask of <tt class="docutils literal"><span class="pre">END_*</span></tt></div></blockquote>
</dd>
<dt>Returns:</dt>
<dd><p class="first">(lines, topo), either can be <tt class="docutils literal"><span class="pre">None</span></tt> depending on <tt class="docutils literal"><span class="pre">output</span></tt></p>
<ul class="last simple">
<li>lines, list of nr_streams ndarrays, each ndarray has shape
(3, nr_points_in_stream) the nr_points_in_stream can be
different for each line</li>
<li>topo, ndarray with shape (nr_streams,) of topology
bitmask with values depending on the topo_style</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-viscid.calculator.topology">
<span id="viscid-calculator-topology-module"></span><h2>viscid.calculator.topology module<a class="headerlink" href="#module-viscid.calculator.topology" title="Permalink to this headline">¶</a></h2>
<p>I don&#8217;t know if this is worth keeping as its own module,
TOPOLOGY_* is copied here so that one can import this module
without needing to have built the cython module streamline.pyx</p>
<dl class="function">
<dt id="viscid.calculator.topology.color_from_topology">
<tt class="descclassname">viscid.calculator.topology.</tt><tt class="descname">color_from_topology</tt><big>(</big><em>topology</em>, <em>topo_style='msphere'</em><big>)</big><a class="reference internal" href="_modules/viscid/calculator/topology.html#color_from_topology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viscid.calculator.topology.color_from_topology" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine RGB from topology value</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><dl class="first last docutils">
<dt>topology (int): some value in</dt>
<dd><tt class="docutils literal"><span class="pre">calculator.streamline.TOPOLOGY_*</span></tt></dd>
<dt>topo_style (string): msphere, or a dict with its own</dt>
<dd>mapping</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>(R, G, B)</dd>
<dt>Note:</dt>
<dd><p class="first">to override this color scheme, just set</p>
<blockquote class="last">
<div>topoloy.color_from_topology = some_function</div></blockquote>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-viscid.calculator">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-viscid.calculator" title="Permalink to this headline">¶</a></h2>
<p>Calculate using fields</p>
<p>This package has some general purpose calculator stuff, like
interpolation, streamline tracing, Div, Curl, calculate flux function,
etc.</p>
</div>
</div>


          <footer>
  <hr/>

  <p>
      &copy; Copyright 2013, Kristofor Maynard.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://www.readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>